!function(){var t=function(t){if("undefined"==typeof t&&"object"!=typeof t)return console.log("D3 not found."),!1;t.selection.prototype.addClass=function(t){return this.classed(t,!0)},t.selection.prototype.after=function(e){var n=[];return this.each(function(){var t=document.createElement(e);this.parentNode.insertBefore(t,this.nextSibling),n.push(t)}),t.selectAll(n)},t.selection.prototype.appendTo=function(e){var n=t.selectAll(e),i=n.size(),o=this,s=[];return n.each(function(){var t=this;o.each(function(){if(i>1){var e=this.cloneNode(!0);t.appendChild(e),s.push(e)}else t.appendChild(this)})}),i>1&&this.remove(),s.length>0?t.selectAll(s):this},t.selection.prototype.before=function(e){var n=[];return this.each(function(){var t=document.createElement(e);this.parentNode.insertBefore(t,this),n.push(t)}),t.selectAll(n)},t.cast=function(e){if(e instanceof t.selection)return e;if("string"==typeof e)return t.select(e);if(e instanceof Element)return t.select(e);if(e.jquery)return console.warn("Casting jQuery object to d3.selection"),t.select(e.selector);throw TypeError("Cannot cast arbitrary object to d3.selection")},t.selection.prototype.clear=function(){return this.selectAll("*").remove(),this},t.selection.prototype.css=t.selection.prototype.style,t.selection.prototype.dimensions=function(){var t,e=this.node(),n=this.style("display"),i=function(t){if(t.getBBox){var e=t.getBBox();return[e.width,e.height]}return[t.offsetWidth,t.offsetHeight]};if(n&&"none"!==n)return t=i(e),{width:t[0],height:t[1]};var o=e.style,s={visibility:o.visibility,position:o.position,display:o.display},r={visibility:"hidden",display:"block"};"fixed"!==s.position&&(r.position="absolute"),this.style(r),t=i(e);var l={width:t[0],height:t[1]};return this.style(s),l},t.selection.prototype.eq=function(t,e){return e=e||0,this.filter(function(n,i,o){return i==t&&o==e})},t.selection.prototype.first=function(){for(var e=0,n=this.length;e<n;e++)for(var i,o=this[e],s=0,r=o.length;s<r;s++)if(i=o[s])return t.select(i)},t.selection.prototype.hasClass=function(t){return this.classed(t)},t.selection.prototype.height=function(){return this.dimensions().height},t.selection.prototype.hide=function(){return this.style("display","none"),this},t.selection.prototype.last=function(){for(var e=this.length-1;e>=0;e--)for(var n,i=this[e],o=i.length-1;o>=0;o--)if(n=i[o])return t.select(n)},t.selection.prototype.moveToBack=function(){return this.each(function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)})},t.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})};var e=t.selection.prototype.on;return t.selection.prototype.on=function(t,n,i){if("string"==typeof t&&t.indexOf(" ")>-1)for(var o=t.split(" "),s=0;s<o.length;s++)e.apply(this,[o[s],n,i]);else e.apply(this,[t,n,i]);return this},t.selection.prototype.prepend=function(e){var n=[];return this.each(function(){var t=document.createElement(e);this.insertBefore(t,this.firstChild),n.push(t)}),t.selectAll(n)},t.selection.prototype.removeClass=function(t){return this.classed(t,!1)},t.selection.prototype.show=function(){var t=this[0][0];if(!t)return this;var e,n=t.tagName,i=document.createElement(n),o="getComputedStyle"in window;return document.body.appendChild(i),e=(o?window.getComputedStyle(i,""):i.currentStyle).display,document.body.removeChild(i),this.style("display",e),this},t.selection.prototype.toggle=function(){var t=this[0][0];if(!t)return this;var e,n=t.tagName,i=document.createElement(n),o="getComputedStyle"in window;document.body.appendChild(i),e=(o?window.getComputedStyle(i,""):i.currentStyle).display,document.body.removeChild(i);var s="none"==this.style("display");return this.style("display",s?e:"none")},t.selection.prototype.toggleClass=function(t){for(var e=t.split(" "),n=0;n<e.length;n++){var i=e[n];this.classed(i,!this.classed(i))}return this},t.selection.prototype.trigger=function(t,n){return e.apply(this,[t])(n),this},t.selection.prototype.width=function(){return this.dimensions().width},t};"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(["d3"],t):t(d3)}();